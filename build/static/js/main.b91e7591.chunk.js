(this.webpackJsonp1_instalacao=this.webpackJsonp1_instalacao||[]).push([[0],[,,,,,,,,function(e,t,c){e.exports={project_card:"ProjectCard_project_card__FTz0o",category_text:"ProjectCard_category_text__2jSMy",infra:"ProjectCard_infra__2kO5Y",desenvolvimento:"ProjectCard_desenvolvimento__iXGoy",design:"ProjectCard_design__1thKo",planejamento:"ProjectCard_planejamento__1ShY9",project_card_actions:"ProjectCard_project_card_actions__jKeyW",edit:"ProjectCard_edit__3sDiD",delete:"ProjectCard_delete__1EN0_"}},function(e,t,c){e.exports={project_details:"Project_project_details__2Td3x",details_container:"Project_details_container__L8YOf",service_form_container:"Project_service_form_container__3kNXU",btn:"Project_btn__ziEfR",form:"Project_form__3qgfE"}},,function(e,t,c){e.exports={logo:"Navbar_logo__3ej6N",navbar:"Navbar_navbar__3cnDF",list:"Navbar_list__2jsSb",item:"Navbar_item__299FJ"}},,,,function(e,t,c){e.exports={form:"ProjectForm_form__1JhL4"}},,,,function(e,t,c){e.exports={footer:"Footer_footer__28pE7",social_list:"Footer_social_list__2-cVT",copy_right:"Footer_copy_right__164qN"}},function(e,t,c){e.exports={container:"Container_container__2Y843",start:"Container_start__2GOkh",column:"Container_column__1NZew","min-height":"Container_min-height__G9QHG"}},,function(e,t,c){e.exports={loader_container:"Loading_loader_container__14knU",loader:"Loading_loader__17goo"}},function(e,t,c){e.exports={message:"Message_message__1kmIB",success:"Message_success__2pyqK",error:"Message_error__2Q2F5"}},function(e,t,c){e.exports={project_container:"Projects_project_container__1CTeu",title_container:"Projects_title_container__z4p8g"}},,,,,,function(e,t,c){e.exports={home_container:"Home_home_container__-ArVS"}},function(e,t,c){e.exports={btn:"LinkButton_btn__1pk5Z"}},function(e,t,c){e.exports={form_control:"Input_form_control__3byMO"}},function(e,t,c){e.exports={form_control:"Select_form_control__2oZYb"}},function(e,t,c){e.exports={btn:"SubmitButton_btn__43Jka"}},function(e,t,c){e.exports={newproject_container:"NewProject_newproject_container__3UKkX"}},,,,,function(e,t,c){},,,,,,,function(e,t,c){"use strict";c.r(t);var n=c(2),o=c.n(n),a=c(27),r=c.n(a),s=(c(40),c(5)),i=c(3),j=c(16),l=c(19),d=c.n(l),b=c(1);var h=function(){return Object(b.jsx)("footer",{className:d.a.footer,children:Object(b.jsxs)("ul",{className:d.a.social_list,children:[Object(b.jsx)("li",{children:Object(b.jsx)(j.a,{})}),Object(b.jsx)("li",{children:Object(b.jsx)(j.b,{})}),Object(b.jsx)("li",{children:Object(b.jsx)(j.c,{})})]})})},u=c(20),O=c.n(u);var m=function(e){return Object(b.jsx)("div",{className:"".concat(O.a.container," ").concat(O.a[e.customClass]),children:e.children})},p=c(11),x=c.n(p),_=c.p+"static/media/logo.70d7c7d6.png";var f=function(){return Object(b.jsx)("div",{className:x.a.navbar,children:Object(b.jsxs)(m,{children:[Object(b.jsx)(s.b,{to:"/",children:Object(b.jsx)("img",{className:x.a.logo,src:_,alt:"Costs"})}),Object(b.jsxs)("ul",{className:x.a.list,children:[Object(b.jsx)("li",{className:x.a.item,children:Object(b.jsx)(s.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{className:x.a.item,children:Object(b.jsx)(s.b,{to:"/projects",children:"Projetos"})}),Object(b.jsx)("li",{className:x.a.item,children:Object(b.jsx)(s.b,{to:"/company",children:"Empresa"})}),Object(b.jsx)("li",{className:x.a.item,children:Object(b.jsx)(s.b,{to:"/contact",children:"Contato"})})]})]})})},v=c(30),g=c.n(v),C=c.p+"static/media/cartoon-vector.f5b7c641.jpg",N=c(31),y=c.n(N);var S=function(e){var t=e.to,c=e.text;return Object(b.jsx)(s.b,{className:y.a.btn,to:t,children:c})};var T=function(){return Object(b.jsxs)("section",{className:g.a.home_container,children:[Object(b.jsx)("h1",{children:"Bem-vindo ao Gerenciador de Custos"}),Object(b.jsx)("p",{children:"Comece a gerenciar os seus projetos agora mesmo!"}),Object(b.jsx)(S,{to:"/newproject",text:"Criar projeto"}),Object(b.jsx)("img",{src:C,alt:"cartoonVector"})]})},P=c(4),E=c.p+"static/media/loading.5ff85998.svg",F=c(22),k=c.n(F);var D=function(){return Object(b.jsx)("div",{className:k.a.loader_container,children:Object(b.jsx)("img",{className:k.a.loader,src:E,alt:"Loading"})})},w=c(8),J=c.n(w),R=c(14);var G=function(e){var t=e.id,c=e.name,n=e.budget,o=e.category,a=e.handleRemove;return Object(b.jsxs)("div",{className:J.a.project_card,children:[Object(b.jsx)("h4",{children:c}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Or\xe7amento:"})," R$",n]}),Object(b.jsxs)("p",{className:J.a.category_text,children:[Object(b.jsx)("span",{className:"".concat(J.a[null===o||void 0===o?void 0:o.toLowerCase()])})," ",o]}),Object(b.jsxs)("div",{className:J.a.project_card_actions,children:[Object(b.jsxs)(s.b,{className:J.a.edit,to:"/project/"+t,children:[Object(b.jsx)(R.b,{})," Editar"]}),Object(b.jsxs)("button",{className:J.a.delete,onClick:function(e){e.preventDefault(),a(t)},children:[Object(b.jsx)(R.a,{}),"Excluir"]})]})]})},I=c(23),L=c.n(I);var A=function(e){var t=e.type,c=e.msg,o=Object(n.useState)(!1),a=Object(P.a)(o,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){if(c){s(!0);var e=setTimeout((function(){s(!1)}),3e3);return function(){return clearTimeout(e)}}s(!1)}),[c]),Object(b.jsx)(b.Fragment,{children:r&&Object(b.jsx)("div",{className:"".concat(L.a.message," ").concat(L.a[t]),children:c})})},M=c(24),H=c.n(M);var q=function(){var e=Object(n.useState)([]),t=Object(P.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)(!1),r=Object(P.a)(a,2),s=r[0],j=r[1],l=Object(n.useState)(""),d=Object(P.a)(l,2),h=d[0],u=d[1],O=Object(i.g)(),p="";function x(e){fetch("http://localhost:5000/projects/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){o(c.filter((function(t){return t.id!==e}))),u("Projeto removido com sucesso!")}))}return O.state&&(p=O.state.message),Object(n.useEffect)((function(){setTimeout((function(){return fetch("http://localhost:5000/projects",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){o(e),j(!0)}))}),100)}),[]),Object(b.jsxs)("div",{className:H.a.project_container,children:[Object(b.jsxs)("div",{className:H.a.title_container,children:[Object(b.jsx)("h1",{children:"Meus Projetos"}),Object(b.jsx)(S,{to:"/newproject",text:"Criar projeto"})]}),p&&Object(b.jsx)(A,{type:"success",msg:p}),h&&Object(b.jsx)(A,{type:"success",msg:h}),Object(b.jsxs)(m,{customClass:"start",children:[c.length>0&&c.map((function(e){return Object(b.jsx)(G,{id:e.id,name:e.name,budget:e.budget,category:e.category.name,handleRemove:x},e.id)})),!s&&Object(b.jsx)(D,{}),s&&0===c.length&&Object(b.jsx)("p",{children:"N\xe3o h\xe1 projetos cadastrados!"})]})]})},z=c(12),B=c(10),Y=c(32),K=c.n(Y);var $=function(e){var t=e.type,c=e.text,n=e.name,o=e.placeholder,a=e.handleOnChange,r=e.value;return Object(b.jsxs)("div",{className:K.a.form_control,children:[Object(b.jsxs)("label",{htmlFor:n,children:[c,":"]}),Object(b.jsx)("input",{type:t,name:n,id:n,placeholder:o,onChange:a,value:r})]})},U=c(33),V=c.n(U);var X=function(e){var t=e.text,c=e.name,n=e.options,o=e.handleOnChange,a=e.value;return Object(b.jsxs)("div",{className:V.a.form_control,children:[Object(b.jsxs)("label",{htmlFor:c,children:[t,":"]}),Object(b.jsxs)("select",{name:c,id:c,onChange:o,value:a||"",children:[Object(b.jsx)("option",{children:"Selecione uma op\xe7\xe3o"}),n.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})},Z=c(34),Q=c.n(Z);var W=function(e){var t=e.text;return Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:Q.a.btn,children:t})})},ee=c(15),te=c.n(ee);var ce=function(e){var t=e.handleSubmit,c=e.btnText,o=e.projectData,a=Object(n.useState)(o||{}),r=Object(P.a)(a,2),s=r[0],i=r[1],j=Object(n.useState)([]),l=Object(P.a)(j,2),d=l[0],h=l[1];function u(e){i(Object(B.a)(Object(B.a)({},s),{},Object(z.a)({},e.target.name,e.target.value)))}return Object(n.useEffect)((function(){fetch("http://localhost:5000/categories",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h(e)}))}),[]),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},className:te.a.form,children:[Object(b.jsx)($,{type:"text",text:"Nome do projeto",name:"name",placeholder:"Insira o nome do projeto",handleOnChange:u,value:s.name}),Object(b.jsx)($,{type:"number",text:"Or\xe7amento do projeto",name:"budget",placeholder:"Insira o or\xe7amento total",handleOnChange:u,value:s.budget}),Object(b.jsx)(X,{name:"category_id",text:"Selecione a categoria",options:d,handleOnChange:function(e){i(Object(B.a)(Object(B.a)({},s),{},{category:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}}))},value:s.category?s.category.id:""}),Object(b.jsx)(W,{text:c})]})},ne=c(35),oe=c.n(ne);var ae=function(){var e=Object(i.f)();return Object(b.jsxs)("div",{className:oe.a.newproject_container,children:[Object(b.jsx)("h1",{children:"Criar Projeto"}),Object(b.jsx)("p",{children:"Crie seu projeto para depois adicionar os servi\xe7os"}),Object(b.jsx)(ce,{handleSubmit:function(t){t.cost=0,t.services=[],fetch("http://localhost:5000/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.push("/projects",{message:"Projeto criado com sucesso!"})}))},btnText:"Criar Projeto"})]})};var re=function(){return Object(b.jsx)("section",{children:Object(b.jsx)("h1",{children:"Sobre a empresa"})})};var se=function(){return Object(b.jsxs)("section",{children:[Object(b.jsx)("h1",{children:"Contato"}),Object(b.jsx)("p",{children:"Saryn System"})]})},ie=c(49),je=c(9),le=c.n(je);var de=function(e){var t=e.handleSubmit,c=e.btnText,o=e.projectData,a=Object(n.useState)({}),r=Object(P.a)(a,2),s=r[0],i=r[1];function j(e){i(Object(B.a)(Object(B.a)({},s),{},Object(z.a)({},e.target.name,e.target.value)))}return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.services.push(s),t(o)},className:te.a.form,children:[Object(b.jsx)($,{type:"text",text:"Nome do servi\xe7o",name:"name",placeholder:"Insira o nome do servi\xe7o",handleOnChange:j}),Object(b.jsx)($,{type:"number",text:"Custo do servi\xe7o",name:"cost",placeholder:"Insira o valor total",handleOnChange:j}),Object(b.jsx)($,{type:"text",text:"Descri\xe7\xe3o do projeto",name:"description",placeholder:"Descreva o servi\xe7o",handleOnChange:j}),Object(b.jsx)(W,{text:c})]})};var be=function(e){var t=e.id,c=e.name,n=e.cost,o=e.description,a=e.handleRemove;return Object(b.jsxs)("div",{className:J.a.project_card,children:[Object(b.jsx)("h4",{children:c}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Custo total:"})," R$",n]}),Object(b.jsx)("p",{children:o}),Object(b.jsx)("div",{className:J.a.project_card_actions,children:Object(b.jsxs)("button",{className:"btn_remove",onClick:function(e){e.preventDefault(),a(t,n)},children:[Object(b.jsx)(R.a,{}),"Excluir"]})})]})};var he=function(){var e=Object(i.h)().id,t=Object(n.useState)([]),c=Object(P.a)(t,2),o=c[0],a=c[1],r=Object(n.useState)(!1),s=Object(P.a)(r,2),j=s[0],l=s[1],d=Object(n.useState)(!1),h=Object(P.a)(d,2),u=h[0],O=h[1],p=Object(n.useState)([]),x=Object(P.a)(p,2),_=x[0],f=x[1],v=Object(n.useState)(""),g=Object(P.a)(v,2),C=g[0],N=g[1],y=Object(n.useState)("success"),S=Object(P.a)(y,2),T=S[0],E=S[1];function F(e,t){var c=o.services.filter((function(t){return t.id!==e})),n=o;n.services=c,n.cost=parseFloat(n.cost)-parseFloat(t),fetch("http://localhost:5000/projects/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){a(n),f(c),N("Servi\xe7o removido com sucesso!")}))}return Object(n.useEffect)((function(){setTimeout((function(){return fetch("http://localhost:5000/projects/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e),f(e.services)}))}),0)}),[e]),Object(b.jsx)(b.Fragment,{children:o.name?Object(b.jsx)("div",{className:le.a.project_details,children:Object(b.jsxs)(m,{customClass:"column",children:[C&&Object(b.jsx)(A,{type:T,msg:C}),Object(b.jsxs)("div",{className:le.a.details_container,children:[Object(b.jsxs)("h1",{children:["Projeto: ",o.name]}),Object(b.jsx)("button",{className:le.a.btn,onClick:function(){l(!j)},children:j?"Fechar":"Editar projeto"}),j?Object(b.jsx)("div",{className:le.a.form,children:Object(b.jsx)(ce,{handleSubmit:function(e){if(e.budget<e.cost)return N("O Or\xe7amento n\xe3o pode ser menor que o custo do projeto!"),E("error"),!1;fetch("http://localhost:5000/projects/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){a(e),l(!j),N("Projeto atualizado!"),E("success")}))},btnText:"Concluir Edi\xe7\xe3o",projectData:o})}):Object(b.jsxs)("div",{className:le.a.form,children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Categoria:"})," ",o.category.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Total do or\xe7amento:"})," R$",o.budget]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Total utilizado:"})," R$",o.cost]})]})]}),Object(b.jsxs)("div",{className:le.a.service_form_container,children:[Object(b.jsx)("h2",{children:"Adicione um servi\xe7o:"}),Object(b.jsx)("button",{className:le.a.btn,onClick:function(){O(!u)},children:u?"Fechar":"Adicionar Servi\xe7o"}),Object(b.jsx)("div",{className:le.a.form,children:u&&Object(b.jsx)(de,{handleSubmit:function(e){var t=e.services[e.services.length-1];t.id=Object(ie.a)();var c=t.cost,n=parseFloat(e.cost)+parseFloat(c);if(n>parseFloat(e.budget))return N("Or\xe7amento ultrapassado, verifique o valor do servi\xe7o!"),E("error"),e.services.pop(),!1;e.cost=n,fetch("http://localhost:5000/projects/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){f(e.services),O(!u),N("Servi\xe7o adicionado!"),E("success")}))},btnText:"Adicionar Servi\xe7o",projectData:o})})]}),Object(b.jsx)("h2",{children:"Servi\xe7os:"}),Object(b.jsxs)(m,{customClass:"start",children:[_.length>0&&_.map((function(e){return Object(b.jsx)(be,{id:e.id,name:e.name,cost:e.cost,description:e.description,handleRemove:F},e.id)})),0===_.length&&Object(b.jsx)("p",{children:"N\xe3o h\xe1 servi\xe7os cadastrados."})]})]})}):Object(b.jsx)(D,{})})};var ue=function(){return Object(b.jsxs)(s.a,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(i.c,{children:Object(b.jsxs)(m,{customClass:"min-height",children:[Object(b.jsx)(i.a,{exact:!0,path:"/",children:Object(b.jsx)(T,{})}),Object(b.jsx)(i.a,{path:"/projects",children:Object(b.jsx)(q,{})}),Object(b.jsx)(i.a,{path:"/company",children:Object(b.jsx)(re,{})}),Object(b.jsx)(i.a,{path:"/contact",children:Object(b.jsx)(se,{})}),Object(b.jsx)(i.a,{path:"/newproject",children:Object(b.jsx)(ae,{})}),Object(b.jsx)(i.a,{path:"/project/:id",children:Object(b.jsx)(he,{})})]})}),Object(b.jsx)(h,{})]})};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(ue,{})}),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.b91e7591.chunk.js.map